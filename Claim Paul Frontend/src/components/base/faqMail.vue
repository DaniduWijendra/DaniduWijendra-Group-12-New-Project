<template>

  <v-form
    ref="form"
    lazy-validation
    v-on:submit.prevent='sendMail'
  >
     <v-text-field
    
    label="Your Name"
    outlined
    clearable
    prepend-icon="mdi-account"
    v-model="mail.name"
    ></v-text-field>

    <v-select v-model="mail.branch" prepend-icon="mdi-account-edit-outline" outlined :items="branch" label="Select a subject to get help*" required>
    </v-select>

     <v-text-field
    
    label="Topic"
    outlined
    clearable
    prepend-icon="mdi-text"
    v-model="mail.topic"
    ></v-text-field>

     <v-text-field
    
    label="email*"
    placeholder="type mail address"
    outlined
    clearable
    prepend-icon="mdi-at"
    v-model="mail.email"
    ></v-text-field>

    <v-textarea
    label="Message*"
    placeholder="type message"
    auto-grow
    outlined
    rows="3"
    row-height="25"
    shaped
    prepend-icon="mdi-comment-quote"
    v-model="mail.complain"
    ></v-textarea>


    <v-btn
      
      color="green"
      class="mr-4"
    
    >
      <v-icon large @click="sendMail">mdi-cloud-upload</v-icon>
       Submit Now
    </v-btn>

    
  </v-form>
</template>


<script>
import Axios from '../../baseURL'
  export default {
    data: () => ({

      mail:{
        name:'',
        email:'',
        complain:'',
        file:'',
        branch:'',
        topic:'',
        role:'policyholder'
      },
      branch:[
           'select a subject',
        'success fulfill',
        'other'
      ]
      
    }),

    methods: {
  

      sendMail(){

          Axios.post('admin_mail',this.mail).then(()=>{

               this.s('Your Mail Successfully sent');

            }).catch(error=>{
                
                console.log(error.response.data.error);
          
            });

      }
      
    },
  }
</script>